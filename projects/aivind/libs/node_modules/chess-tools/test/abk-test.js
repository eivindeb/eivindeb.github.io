"use strict";
const ChessTools = require("../index.js");
const fs = require("fs");

 const assert = require('assert');

 let test_fen = [
     'rnbqk2r/ppppppbp/5np1/8/2P5/2N3P1/PP1PPP1P/R1BQKBNR w KQkq'
    ];



function key_from_fen(_fen) {
    return _fen.split(" ").slice(0,4).join(" ");
}

 let abk = new ChessTools.OpeningBooks.ABK();
 abk.load_book(fs.createReadStream("sample-data/libra8.abk"));
 abk.on("loaded", ()=>{
            console.log(abk.find(test_fen[0]));
            console.log(key_from_fen(test_fen[0]))
            console.log(abk.entries)
        });

